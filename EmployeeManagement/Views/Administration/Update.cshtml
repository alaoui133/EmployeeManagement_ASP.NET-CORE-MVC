@model UpdateRoleViewModel

@{
    ViewBag.Title = "Update New Role";
}

<div class="text-center">
    Update Role
</div>

<form method="post">

    <div class="form-row">
        <div class="form-group">
            <label asp-for="Id"></label>
            <input class="form-control" disabled asp-for="Id">
            <span asp-validation-for="Id" hidden class="small text-danger"></span>

        </div>

        <div class="form-row my-3">
            <div class="form-group">
                <label>Update Role name</label>
                <input class="form-control" asp-for="RoleName">
                <span asp-validation-for="RoleName" hidden class="small text-danger"></span>

            </div>
        </div>

        <div class="form-group text-center my-3">
            <button type="submit" class="btn btn-dark"> Update Role Name </button>
            <a asp-action="ListRoles" class="btn btn-primary mx-3"> Cancel </a>
        </div>
        @if (Model.Users.Count == 0)
        {
            <div class="card text-center">
                <div class="card-body">
                    <h5 class="card-title">List Users</h5>
                    <p class="card-text"> Any Users !!</p>
                    <div class="btn-group align-content-center">
                        <a asp-action="UpdateUsersRole" asp-route-idRole="@Model.Id" class="btn btn-primary mx-2">Add/remove User</a>
                        <a asp-action="ListRoles" asp-route-idRole="@Model.Id" class="btn btn-secondary mx-2">Cancel</a>
                    </div>
                </div>
            </div>
        }
        else
        {

            <div class="card text-center">
                <div class="card-body ">
                    <h5 class="card-title">List Users</h5>

                    <p class="card-text">
                        @foreach (string userEmail in Model.Users.ToList())
                        {
                            <span> @userEmail </span> <hr />
                        }
                    </p>
                    <div class="btn-group align-content-center">
                        <a asp-action="UpdateUsersRole" asp-route-idRole="@Model.Id" class="btn btn-primary mx-2">Add/remove User</a>
                        <a asp-action="ListRoles" asp-route-idRole="@Model.Id" class="btn btn-secondary mx-2">Cancel</a>
                    </div>

                </div>
            </div>
        }

        <div class="text text-danger" asp-validation-summary="All"></div>

    </div>

</form>
